<ion-content>
  <div class="header ion-padding">
    <div class="info">
      <ion-icon name="chevron-back-outline" routerLink="/chat"></ion-icon>
      <ion-avatar slot="start">
        <img src="../../../assets/default-profile.png">
      </ion-avatar>
      <span class="details">
        <h1>{{receiver?.fullname}}</h1>
        <p>{{receiver?.phone}}</p>
      </span>
    </div>
  </div>
  <div class="conversation ion-padding">
    <div class="chat-section" id="chat">
      <div class="chat">
        <div *ngFor="let message of messages">

          <div *ngIf="message.type === 'sender'" class="mine messages">
            <div class="message">
              {{message.message}}
            </div>
            <span>
              <ion-icon name="checkmark-done-outline"></ion-icon>{{message.createdAt | timeAgo}}
            </span>
          </div>

          <div *ngIf="message.type === 'receiver'" class="yours messages">
            <div class="message">
              {{message.message}}
            </div>
            <span>{{message.createdAt | timeAgo}}</span>
          </div>
        </div>

      </div>
    </div>
    <div class="message-input">
      <ion-input [(ngModel)]="message" (keyup)="eventHandler($event)" placeholder="Type your message..."></ion-input>
      <div (click)="sendMessage()" class="send-button">
        <ion-icon name="send-sharp"></ion-icon>
      </div>
    </div>
  </div>
</ion-content>
